# Comparison of AV1 and VVenC (Versatile Video Encoder)

[Aomenc GIT 12.10.2020 as AV1](https://aomedia.googlesource.com/aom/)

Encoding settings:
`av1an -fmt yuv420p10le -p 1 -s 0 -v " --threads=4 --end-usage=q --cq-level=N --cpu-used=N`
Where N is variable

[VVenc 0.1.0.0 as VVC](https://github.com/fraunhoferhhi/vvenc)

Encoding settings:
`vvencapp --size 1920x1080 --format yuv420_10 --preset N --qp N --threads 4 --qpa 0 --intraperiod 48 --framerate 50`
Where N is variable

## Disclamer

This is the first release of VVenC. A lot of functionality is not included/restricted and will of change in future updates.

This benchmark only covers the current state of VVenC in comparison to AV1 in 'natural' content, due to the current lack of some features for encoding 'screen' content. 'Natural' content is generated by the camera, containing live footage and doesn't have 'hard' edges as animation/gameplay/screen recording.

## Testing Material:

park_joy 500 frames sequence from [Xiph Media](https://media.xiph.org/video/derf/)
![](./23.09.2020%20VVCENC%20vs%20AV1/Source%20Screenshots/Frame%20100.png)
## VVC presets comparison:

## VMAF:
![vvc_vmaf]
## PSNR:
![vvc_psnr]
## SSIM:
![vvc_ssim]
## MS-SSIM:
![vvc_mssim]

## BD-Rates:

### What are BD-Rates?

> BD-Rate. The Bjontegaard rate difference, also known as BD-rate, allows the measurement of the bitrate reduction offered by a codec or codec feature, while maintaining the same quality as measured by objective metrics.

So the next comparison reads like:

> By switching from VVC preset Faster to Fast we need -N % bit rate (negative means we save bit rate - efficiency improves) to get same quality in objective metric Y.

> As result we need less bit rate to achieve same qualty, or achieve better quality at same bit rate.
```
VVC faster -> VVC fast 

Vmaf    BD rate: -12.221 %
PSNR    BD rate: -6.891 %
SSIM    BD rate: -6.548 %
MS-SSIM BD rate: -7.853 %
Time Diff:        +14.2 %


VVC fast -> VVC medium 

Vmaf    BD rate: -4.829 %
PSNR    BD rate: -5.075 %
SSIM    BD rate: -5.754 %
MS-SSIM BD rate: -6.171 %
Time Diff:        +123.3 %


VVC medium -> VVC slow 

Vmaf    BD rate: -5.284 %
PSNR    BD rate: -4.925 %
SSIM    BD rate: -3.802 %
MS-SSIM BD rate: -3.475 %
Time Diff:        +230.6 %
```

## AV1 presets comparison:

## VMAF:
![av1_vmaf]
## PSNR:
![av1_psnr]
## SSIM:
![av1_ssim]
## MS-SSIM:
![av1_mssim]

## BD-Rates:
```AOM 6 -> AOM 5 

Vmaf    BD rate: -0.81 %
PSNR    BD rate: -1.224 %
SSIM    BD rate: -0.99 %
MS-SSIM BD rate: -1.382 %
Time Diff:        +25.9 %


AOM 5 -> AOM 4 

Vmaf    BD rate: -11.844 %
PSNR    BD rate: -8.136 %
SSIM    BD rate: -5.645 %
MS-SSIM BD rate: -7.289 %
Time Diff:        +136.6 %


AOM 4 -> AOM 3 

Vmaf    BD rate: -1.423 %
PSNR    BD rate: -2.826 %
SSIM    BD rate: -2.253 %
MS-SSIM BD rate: -2.971 %
Time Diff:        +69.0 %


AOM 3 -> AOM 2 

Vmaf    BD rate: -0.887 %
PSNR    BD rate: -3.979 %
SSIM    BD rate: -2.676 %
MS-SSIM BD rate: -2.89 %
Time Diff:        +167.4 %


AOM 2 -> AOM 1 

Vmaf    BD rate: -2.128 %
PSNR    BD rate: -1.819 %
SSIM    BD rate: -1.391 %
MS-SSIM BD rate: -1.349 %
Time Diff:        +63.8 %


AOM 1 -> AOM 0 

Vmaf    BD rate: -2.222 %
PSNR    BD rate: -2.013 %
SSIM    BD rate: -1.972 %
MS-SSIM BD rate: -1.948 %
Time Diff:        +338.1 %

```

## VVC vs AV1 comparison:

## VMAF:
![comparisson_vmaf]
## PSNR:
![comparisson_psnr]
## SSIM:
![comparisson_ssim]
## MS-SSIM:
![comparisson_mssim]

[vvc_vmaf]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC/VMAF.png
[vvc_psnr]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC/PSNR.png
[vvc_ssim]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC/SSIM.png
[vvc_mssim]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC/MS-SSIM.png

[av1_vmaf]: 23.09.2020%20VVCENC%20vs%20AV1/Results/AV1/VMAF.png
[av1_psnr]: 23.09.2020%20VVCENC%20vs%20AV1/Results/AV1/PSNR.png
[av1_ssim]: 23.09.2020%20VVCENC%20vs%20AV1/Results/AV1/SSIM.png
[av1_mssim]: 23.09.2020%20VVCENC%20vs%20AV1/Results/AV1/MS-SSIM.png

[comparisson_vmaf]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC_vs_AOM/VMAF.png
[comparisson_psnr]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC_vs_AOM/PSNR.png
[comparisson_ssim]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC_vs_AOM/SSIM.png
[comparisson_mssim]: 23.09.2020%20VVCENC%20vs%20AV1/Results/VVC_vs_AOM/MS-SSIM.png

